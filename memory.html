<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="description" content="Hi√©rarchie m√©moire (Registres, Cache, RAM, FLASH) pour les microcontr√¥leurs IoT. Optimisation de l'utilisation de la SRAM et des syst√®mes de fichiers.">
    <meta name="theme-color" content="#0f172a">
    <title>Gestion M√©moire - WaytolearnIoT</title>
    
    <style>
        /* ... Styles essentiels et de responsivit√© ... */
        @layer base {
            :root{--bg:#f8fafc;--muted:#94a3b8;--accent:#10b981}
            html,body{height:100%}
            body { font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter, "Helvetica Neue", Arial; background:var(--bg); color:#0f172a; margin:0}
            .nav-link.active { border-bottom: 3px solid #10b981; color: #10b981; font-weight: 700; }
        }
        .nav-links-mobile { display: none; flex-direction: column; width: 100%; gap: 0.5rem; padding: 0.5rem 0; }
        @media (min-width: 768px) { .nav-links-mobile { display: flex !important; flex-direction: row; } }
        @media (max-width: 768px) { .min-h\[80vh\] { min-height: 60vh; } }
        #nav-toggle { background: transparent; border: 0; font-size: 1.25rem; }
    </style>
    
    <script>
        tailwind.config = { theme: { extend: { colors: { slate: '#0f172a', emerald: '#10b981', amber: '#f59e0b', blue: '#3b82f6' } } } }
    </script>
    <script src="https://cdn.tailwindcss.com"></script> 
    <script> function toggleNav() { const menu = document.getElementById('nav-menu'); menu.style.display = menu.style.display === 'flex' ? 'none' : 'flex'; }</script>
</head>
<body class="bg-slate-50 text-slate-800">
    <nav role="navigation" class="sticky top-0 z-50 bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-24">
                <div class="flex items-center py-2">
                    <a href="index.html" class="text-3xl font-extrabold text-slate-900 tracking-tight">Waytolearn<span class="text-emerald-600">IoT</span></a>
                </div>
                <button id="nav-toggle" aria-label="Ouvrir le menu" onclick="toggleNav()" class="md:hidden">‚ò∞</button>
                <div id="nav-menu" class="nav-links-mobile md:flex md:space-x-8 -mb-px absolute md:static top-24 left-0 bg-white md:bg-transparent shadow-xl md:shadow-none p-4 md:p-0">
                    <a href="index.html" class="nav-link inline-flex items-center px-1 pt-1 border-b-3 text-sm font-medium text-slate-500 hover:text-slate-700 transition duration-150">Accueil</a>
                    <a href="architecture.html" class="nav-link inline-flex items-center px-1 pt-1 border-b-3 text-sm font-medium text-slate-500 hover:text-slate-700 transition duration-150">Architecture CPU</a>
                    <a href="cycle.html" class="nav-link inline-flex items-center px-1 pt-1 border-b-3 text-sm font-medium text-slate-500 hover:text-slate-700 transition duration-150">Cycle Instruction</a>
                    <a href="memory.html" class="nav-link active inline-flex items-center px-1 pt-1 border-b-3 text-sm font-medium text-slate-500 hover:text-slate-700 transition duration-150">Gestion M√©moire</a>
                    <a href="communication.html" class="nav-link inline-flex items-center px-1 pt-1 border-b-3 text-sm font-medium text-slate-500 hover:text-slate-700 transition duration-150">üåê Communication</a>
                    <a href="rtos.html" class="nav-link inline-flex items-center px-1 pt-1 border-b-3 text-sm font-medium text-slate-500 hover:text-slate-700 transition duration-150">‚è±Ô∏è RTOS</a>
                    <a href="ressources.html" class="nav-link inline-flex items-center px-1 pt-1 border-b-3 text-sm font-medium text-slate-500 hover:text-slate-700 transition duration-150">üìÇ Ressources</a>
                </div>
            </div>
        </div>
    </nav>

    <main id="main-content" role="main" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 min-h-[80vh]">

        <section id="memory">
            <div class="text-center mb-10">
                <h2 class="text-4xl font-extrabold tracking-tight text-slate-900">üíæ Hi√©rarchie M√©moire et Contraintes IoT</h2>
                <p class="mt-3 max-w-3xl mx-auto text-lg text-slate-500">
                    Chaque type de m√©moire a un co√ªt, une taille et une vitesse diff√©rente. En IoT, nous devons minimiser l'utilisation de la RAM pour √©conomiser de l'√©nergie et de l'espace. 

[Image of Memory Hierarchy Pyramid]

                </p>
            </div>
            
            <div class="bg-white p-8 rounded-xl shadow-lg border border-slate-200 mt-8">
                <h3 class="text-2xl font-bold text-slate-900 mb-4">Composants de la Hi√©rarchie Microcontr√¥leur</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div class="bg-amber-50 p-4 rounded-lg border-t-4 border-amber-600">
                        <h4 class="font-bold text-amber-900 text-lg">1. Registres</h4>
                        <p class="text-sm text-slate-700">Tr√®s rapides (cycles CPU). Quelques mots de m√©moire. **Utilisation :** Calcul en cours, Pointers (PC, SP).</p>
                    </div>
                    <div class="bg-slate-100 p-4 rounded-lg border-t-4 border-slate-600">
                        <h4 class="font-bold text-slate-900 text-lg">2. Cache (Si pr√©sent)</h4>
                        <p class="text-sm text-slate-700">Rapide (quelques cycles). Quelques Ko. Stocke les donn√©es/instructions fr√©quemment utilis√©es pour √©viter l'acc√®s √† la FLASH lente.</p>
                    </div>
                    <div class="bg-emerald-50 p-4 rounded-lg border-t-4 border-emerald-600">
                        <h4 class="font-bold text-emerald-900 text-lg">3. SRAM (RAM)</h4>
                        <p class="text-sm text-slate-700">Mod√©r√©ment rapide. Volatile. 16 Ko √† 256 Ko en IoT. **Utilisation :** Heap, Stack, Donn√©es volatiles.</p>
                    </div>
                    <div class="bg-blue-50 p-4 rounded-lg border-t-4 border-blue-600">
                        <h4 class="font-bold text-blue-900 text-lg">4. FLASH (ROM)</h4>
                        <p class="text-sm text-slate-700">Lente. Non-volatile. 64 Ko √† 1 Mo+. **Utilisation :** Code du programme et donn√©es permanentes.</p>
                    </div>
                </div>

                <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">üéØ Optimisation M√©moire pour l'IoT</h3>
                <ul class="list-disc list-inside text-slate-700 space-y-2 ml-4">
                    <li>**Type de Donn√©es :** Toujours utiliser le type le plus petit (`uint8_t` au lieu de `int`) pour les variables, sauf si la plage de valeurs l'exige.</li>
                    <li>**Pointeurs et Allocation :** √âviter l'allocation dynamique (`malloc`) fr√©quente, surtout dans les t√¢ches critiques d'un RTOS, pour pr√©venir la fragmentation du tas (Heap).</li>
                    <li>**Syst√®me de Fichiers :** Utiliser des syst√®mes de fichiers l√©gers pour la FLASH externe ou interne (comme **LittleFS** ou **SPIFFS** sur ESP32) pour le stockage des logs ou des configurations.</li>
                </ul>

                <div class="mt-6 bg-red-50 p-4 rounded border-l-4 border-red-600">
                    <strong class="text-red-900">‚ö†Ô∏è Risque de Fragmentation :</strong> Une mauvaise gestion du Heap peut provoquer une fragmentation m√©moire, rendant l'allocation de grands blocs impossible m√™me si la m√©moire totale est suffisante. C'est la premi√®re cause de crash dans les syst√®mes embarqu√©s C/C++ non g√©r√©s.
                </div>
            </div>
        </section>

    </main>
    <footer class="bg-slate-900 text-white mt-16 py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-sm">
            <p>&copy; 2025 WaytolearnIoT. Plateforme √©ducative pour Syst√®mes Embarqu√©s.</p>
        </div>
    </footer>
</body>
</html>