<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Gestion de la m√©moire dans l'IoT : distinction entre Flash, RAM (SRAM/DRAM) et EEPROM. Allocation statique et dynamique (Heap/Stack) et importance pour la consommation √©nerg√©tique.">
    <meta name="keywords" content="IoT, m√©moire, Flash, RAM, SRAM, EEPROM, Stack, Heap, allocation m√©moire">
    <meta name="author" content="WaytolearnIoT">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#10b981">
    <link rel="canonical" href="https://waytolearniot.com/memory.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://waytolearniot.com/memory.html">
    <meta property="og:title" content="Gestion M√©moire | WaytolearnIoT">
    <meta property="og:description" content="Optimiser l'utilisation de la Flash, de la RAM (SRAM) et comprendre l'allocation m√©moire dynamique.">
    <meta property="og:locale" content="fr_FR">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Gestion M√©moire | WaytolearnIoT">
    <meta name="twitter:description" content="Optimiser l'utilisation de la Flash, de la RAM (SRAM) et comprendre l'allocation m√©moire dynamique.">
    
    <!-- Resource Hints -->
    <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
    <link rel="dns-prefetch" href="https://cdn.tailwindcss.com">
    
    <title>Gestion M√©moire | WaytolearnIoT</title>
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "EducationalArticle",
        "headline": "Gestion M√©moire : Efficacit√© et Persistence",
        "description": "Gestion de la m√©moire dans l'IoT : distinction entre Flash, RAM (SRAM/DRAM) et EEPROM. Allocation statique et dynamique (Heap/Stack)",
        "author": {
            "@type": "Organization",
            "name": "WaytolearnIoT"
        },
        "publisher": {
            "@type": "Organization",
            "name": "WaytolearnIoT"
        },
        "inLanguage": "fr-FR",
        "educationalLevel": "Intermediate"
    }
    </script>
    
    <style>
        :root{--bg:#ffffff;--muted:#94a3b8;--accent:#10b981;--text:#1e293b;--border:#e2e8f0}
        *{margin:0;padding:0;box-sizing:border-box}
        html{scroll-behavior:smooth}
        body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,"Helvetica Neue",Arial,sans-serif;background:var(--bg);color:var(--text);line-height:1.6}
        .nav-link.active{border-bottom:3px solid var(--accent);color:var(--accent);font-weight:700;margin-bottom:-3px}
        .skip-link{position:absolute;left:-9999px;z-index:999}
        .skip-link:focus{left:6px;top:6px;background:var(--accent);color:#fff;padding:8px 16px;text-decoration:none;border-radius:4px}
        
        /* Hamburger Menu Styles - Visible uniquement sur mobile */
        #nav-toggle{background:transparent;border:0;cursor:pointer;padding:8px;width:40px;height:40px;display:none;flex-direction:column;justify-content:center;align-items:center;gap:5px;position:relative;z-index:100}
        @media (max-width:767px){#nav-toggle{display:flex}}
        .hamburger-line{width:24px;height:3px;background:#1e293b;border-radius:2px;transition:all 0.3s ease;transform-origin:center}
        #nav-toggle[aria-expanded="true"] .hamburger-line:nth-child(1){transform:rotate(45deg) translate(7px,7px)}
        #nav-toggle[aria-expanded="true"] .hamburger-line:nth-child(2){opacity:0;transform:translateX(-10px)}
        #nav-toggle[aria-expanded="true"] .hamburger-line:nth-child(3){transform:rotate(-45deg) translate(7px,-7px)}
        
        /* Menu mobile vertical */
        #nav-menu{max-height:0;overflow:hidden;transition:max-height 0.3s ease,opacity 0.3s ease}
        #nav-menu:not(.hidden){max-height:500px}
        @media (min-width:768px){#nav-menu{max-height:none!important}}
        
        .card-hover{transition:all 0.3s ease;transform:translateY(0)}
        .card-hover:hover{transform:translateY(-4px);box-shadow:0 20px 25px -5px rgba(0,0,0,0.1),0 10px 10px -5px rgba(0,0,0,0.04)}
        @media (max-width:768px){.text-6xl{font-size:2.25rem}}
        @media (max-width:480px){.text-6xl{font-size:1.75rem}}
    </style>
    
    <script>
        tailwind.config={theme:{extend:{colors:{slate:'#1e293b',emerald:'#10b981',amber:'#f59e0b',blue:'#3b82f6'}}}}
    </script>
    <script src="https://cdn.tailwindcss.com" defer></script>
</head>
<body class="bg-white text-slate-800">
    <a href="#main-content" class="skip-link">Aller au contenu principal</a>
    
   <!-- Navigation -->
<nav class="sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-slate-200 shadow-sm">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-20">
      
      <!-- Logo -->
      <a href="index.html" class="text-2xl font-bold text-slate-900 hover:text-emerald-600">
        Waytolearn<span class="text-emerald-600">IoT</span>
      </a>

      <!-- Hamburger -->
      <button id="nav-toggle" aria-expanded="false" aria-label="Ouvrir le menu">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
      </button>

      <!-- Menu -->
      <div id="nav-menu"
           class="md:flex md:space-x-2 hidden md:opacity-100 absolute md:static left-0 top-20 w-full md:w-auto
                  bg-white md:bg-transparent shadow-md md:shadow-none border-t md:border-0 px-2">

        <a class="nav-link active px-6 py-4 md:py-3 block" href="index.html">Accueil</a>
        <a class="nav-link px-6 py-4 md:py-3 block" href="architecture.html">Architecture CPU</a>
        <a class="nav-link px-6 py-4 md:py-3 block" href="cycle.html">Cycle Instruction</a>
        <a class="nav-link px-6 py-4 md:py-3 block" href="memory.html">Gestion M√©moire</a>
        <a class="nav-link px-6 py-4 md:py-3 block" href="communication.html">Communication</a>
        <a class="nav-link px-6 py-4 md:py-3 block" href="rtos.html">RTOS</a>
        <a class="nav-link px-6 py-4 md:py-3 block" href="ressources.html">Ressources</a>
      </div>

    </div>
  </div>
</nav>

    <!-- Main Content -->
    <main id="main-content" role="main" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <!-- Header -->
        <header class="text-center mb-16">
            <h1 class="text-4xl md:text-5xl font-extrabold text-slate-900 mb-4">
                Gestion M√©moire : Efficacit√© et Persistence
            </h1>
            <p class="text-xl text-slate-600 max-w-3xl mx-auto mb-4">
                Optimiser l'utilisation de la Flash, de la RAM (SRAM) et comprendre l'allocation m√©moire dynamique.
            </p>
            <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-lg max-w-3xl mx-auto">
                <p class="text-slate-700 text-sm">
                    <strong>üéØ Objectifs p√©dagogiques :</strong> Comprendre la hi√©rarchie m√©moire (Flash, RAM, EEPROM), ma√Ætriser l'allocation statique vs dynamique, analyser les risques de Stack Overflow et de fragmentation, et utiliser les outils de profilage m√©moire pour optimiser vos projets IoT.
                </p>
            </div>
        </header>

        <!-- Section 1: Hi√©rarchie M√©moires -->
        <section class="mb-16">
            <div class="bg-white p-8 md:p-10 rounded-2xl shadow-md border border-slate-200">
                <h2 class="text-3xl font-bold text-emerald-600 mb-6 pb-3 border-b-2 border-emerald-200">1. Hi√©rarchie des M√©moires Embarqu√©es</h2>
                
                <p class="text-lg text-slate-700 mb-6 leading-relaxed">
                    Les microcontr√¥leurs IoT poss√®dent plusieurs types de m√©moire, chacun ayant un r√¥le critique. Le choix et l'optimisation de ces m√©moires ont un impact direct sur la consommation d'√©nergie et la vitesse d'ex√©cution.
                </p>
                
                <div class="bg-amber-50 p-5 rounded-lg border-l-4 border-amber-600 mb-8">
                    <h4 class="font-bold text-amber-900 mb-2">üìä Exemples de configurations m√©moire (microcontr√¥leurs courants)</h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                        <div class="bg-white p-3 rounded">
                            <strong>STM32F103C8</strong><br>
                            Flash: 64 KB<br>
                            RAM: 20 KB<br>
                            EEPROM: Externe
                        </div>
                        <div class="bg-white p-3 rounded">
                            <strong>ESP32</strong><br>
                            Flash: 4-16 MB<br>
                            RAM: 520 KB<br>
                            EEPROM: 512 KB
                        </div>
                        <div class="bg-white p-3 rounded">
                            <strong>Arduino Nano</strong><br>
                            Flash: 32 KB<br>
                            RAM: 2 KB<br>
                            EEPROM: 1 KB
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
                    <div class="bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-xl border-l-4 border-amber-600 shadow-sm card-hover">
                        <h3 class="text-xl font-bold text-amber-900 mb-3 flex items-center">
                            <span class="text-2xl mr-2" aria-hidden="true">üíæ</span> M√©moire Flash (ROM)
                        </h3>
                        <p class="text-slate-700 mb-3">
                            Stocke le code du programme (firmware) et les donn√©es constantes. C'est une m√©moire non volatile (persiste sans alimentation).
                        </p>
                        <p class="text-xs text-slate-600">
                            <strong>Caract√©ristiques :</strong> Lecture rapide (1 cycle), √©criture lente (millisecondes). Consommation : ~0.1 mW en lecture. Les constantes (<code>const</code>) sont stock√©es ici pour √©conomiser la RAM.
                        </p>
                        <div class="bg-white p-3 rounded-lg text-center text-xs text-slate-500 mt-3">
                            [Structure Flash]
                        </div>
                    </div>
                    
                    <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl border-l-4 border-blue-600 shadow-sm card-hover">
                        <h3 class="text-xl font-bold text-blue-900 mb-3 flex items-center">
                            <span class="text-2xl mr-2" aria-hidden="true">‚ö°</span> SRAM (RAM)
                        </h3>
                        <p class="text-slate-700 mb-3">
                            M√©moire de travail rapide et volatile. Stocke les variables, la pile (Stack) et le tas (Heap). Sa petite taille oblige une gestion rigoureuse.
                        </p>
                        <p class="text-xs text-slate-600">
                            <strong>Caract√©ristiques :</strong> Acc√®s en 1 cycle, consommation √©lev√©e (~2-5 mW). Perd toutes les donn√©es √† la coupure d'alimentation. Sur un STM32F103, vous n'avez que 20 KB pour tout votre programme !
                        </p>
                        <div class="bg-white p-3 rounded-lg text-center text-xs text-slate-500 mt-3">
                            [Sch√©ma SRAM]
                        </div>
                    </div>
                    
                    <div class="bg-gradient-to-br from-slate-50 to-slate-100 p-6 rounded-xl border-l-4 border-slate-500 shadow-sm card-hover">
                        <h3 class="text-xl font-bold text-slate-800 mb-3 flex items-center">
                            <span class="text-2xl mr-2" aria-hidden="true">üìú</span> EEPROM (Persistence)
                        </h3>
                        <p class="text-slate-700">
                            Non volatile, mais plus lente que la Flash. Utilis√©e pour stocker les param√®tres de configuration (cl√©s de s√©curit√©, calibrations) qui changent rarement.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Stack vs Heap -->
        <section class="mb-16">
            <div class="bg-white p-8 md:p-10 rounded-2xl shadow-md border border-slate-200">
                <h2 class="text-3xl font-bold text-emerald-600 mb-6 pb-3 border-b-2 border-emerald-200">2. Stack (Pile) vs. Heap (Tas)</h2>
                
                <p class="text-lg text-slate-700 mb-8 leading-relaxed">
                    La RAM est divis√©e entre l'allocation statique (Stack) et l'allocation dynamique (Heap). La fa√ßon dont ces deux zones sont utilis√©es impacte la stabilit√© et le d√©terminisme du syst√®me.
                </p>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8">
                    <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-xl border-l-4 border-blue-600 shadow-sm card-hover">
                        <h3 class="text-2xl font-bold text-blue-900 mb-4 flex items-center">
                            <span class="text-3xl mr-3" aria-hidden="true">üì¶</span> Le Stack (Pile)
                        </h3>
                        <p class="text-slate-700 mb-4 leading-relaxed">
                            Utilis√© pour les variables locales et les appels de fonctions. L'allocation et la lib√©ration sont rapides et automatiques (LIFO : Dernier Entr√©, Premier Sorti). C'est la m√©thode pr√©f√©r√©e pour le temps r√©el car elle est pr√©dictible.
                        </p>
                        <div class="bg-white p-3 rounded-lg mb-4">
                            <p class="text-xs text-slate-600 mb-2"><strong>üíª Exemple de code :</strong></p>
                            <pre class="bg-slate-800 text-white p-2 rounded text-xs overflow-x-auto"><code>void fonction() {
    int local = 10;  // Allou√© sur le Stack
    char buffer[100]; // 100 bytes sur le Stack
    // √Ä la fin de la fonction, 
    // tout est automatiquement lib√©r√©
}</code></pre>
                            <p class="text-xs text-slate-600 mt-2">
                                <strong>‚ö†Ô∏è Attention :</strong> Sur Arduino (2 KB RAM), un buffer de 1000 bytes peut facilement causer un Stack Overflow !
                            </p>
                        </div>
                        <div class="bg-white p-4 rounded-lg border-l-4 border-blue-600">
                            <p class="text-sm text-blue-800">
                                <span class="font-bold">Risque :</span> Si le Stack grandit trop et rencontre le Heap (ou d√©passe la m√©moire allou√©e), on parle de <strong>Stack Overflow</strong>, menant souvent √† un crash.
                            </p>
                        </div>
                    </div>
                    
                    <div class="bg-gradient-to-br from-amber-50 to-amber-100 p-8 rounded-xl border-l-4 border-amber-600 shadow-sm card-hover">
                        <h3 class="text-2xl font-bold text-amber-900 mb-4 flex items-center">
                            <span class="text-3xl mr-3" aria-hidden="true">üß±</span> Le Heap (Tas)
                        </h3>
                        <p class="text-slate-700 mb-4 leading-relaxed">
                            Utilis√© pour l'allocation dynamique (via `malloc` ou `new`). La taille n'est pas connue √† la compilation. C'est flexible, mais plus lent et non d√©terministe.
                        </p>
                        <div class="bg-white p-3 rounded-lg mb-4">
                            <p class="text-xs text-slate-600 mb-2"><strong>üíª Exemple de code :</strong></p>
                            <pre class="bg-slate-800 text-white p-2 rounded text-xs overflow-x-auto"><code>// Allocation dynamique (√† √©viter en IoT)
int* data = malloc(100 * sizeof(int));
// ... utilisation ...
free(data);  // ‚ö†Ô∏è Oublier = Memory Leak !</code></pre>
                            <p class="text-xs text-slate-600 mt-2">
                                <strong>üí° Meilleure pratique :</strong> Utilisez des tableaux statiques de taille fixe pour garantir la pr√©dictibilit√©.
                            </p>
                        </div>
                        <div class="bg-white p-4 rounded-lg border-l-4 border-amber-600">
                            <p class="text-sm text-amber-900">
                                <span class="font-bold">Risque :</span> L'utilisation excessive cause la <strong>fragmentation de la m√©moire</strong> et augmente le risque de fuite m√©moire (Memory Leak).
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Optimisation -->
        <section class="mb-16">
            <div class="bg-gradient-to-br from-emerald-50 to-emerald-100 p-8 md:p-10 rounded-2xl shadow-md border-l-4 border-emerald-600">
                <h2 class="text-3xl font-bold text-emerald-900 mb-6">3. Optimisation et Cartographie M√©moire</h2>
                
                <p class="text-lg text-slate-700 mb-6 leading-relaxed">
                    En embarqu√©, la <strong>cartographie m√©moire</strong> (Memory Map) est d√©finie par le fichier Linker Script. Cela permet de s√©parer pr√©cis√©ment le code (`.text`), les donn√©es initialis√©es (`.data`), et les donn√©es non initialis√©es (`.bss`) entre la Flash et la RAM.
                </p>
                
                <div class="bg-slate-50 p-5 rounded-lg border-l-4 border-slate-500 mb-8">
                    <h4 class="font-bold text-slate-800 mb-3">üìñ Sections m√©moire expliqu√©es</h4>
                    <ul class="space-y-2 text-sm text-slate-700">
                        <li><strong>.text :</strong> Code ex√©cutable ‚Üí Stock√© en Flash (non volatile)</li>
                        <li><strong>.data :</strong> Variables initialis√©es ‚Üí Copi√©es de Flash vers RAM au d√©marrage</li>
                        <li><strong>.bss :</strong> Variables non initialis√©es ‚Üí Allou√©es en RAM, mises √† z√©ro au boot</li>
                        <li><strong>.rodata :</strong> Constantes (read-only) ‚Üí Restent en Flash pour √©conomiser la RAM</li>
                    </ul>
                    <p class="text-xs text-slate-600 mt-3">
                        <strong>üí° Astuce :</strong> Utilisez <code>const</code> partout o√π possible pour forcer le stockage en Flash plut√¥t qu'en RAM.
                    </p>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <div class="bg-white p-6 rounded-xl shadow-md card-hover">
                        <h4 class="text-lg font-bold text-emerald-700 mb-3">Objectif du Linker Script</h4>
                        <p class="text-slate-600">S'assurer que les donn√©es et le code sont charg√©s aux bonnes adresses pour le boot et l'ex√©cution.</p>
                    </div>
                    
                    <div class="bg-white p-6 rounded-xl shadow-md card-hover">
                        <h4 class="text-lg font-bold text-emerald-700 mb-3">Strat√©gies d'Optimisation</h4>
                        <p class="text-slate-600">√âviter le Heap au maximum, dimensionner le Stack pour chaque t√¢che (RTOS) et utiliser des structures statiques.</p>
                    </div>
                </div>
                
                <div class="text-center">
                    <a href="communication.html" class="inline-block bg-emerald-600 hover:bg-emerald-700 text-white font-semibold py-3 px-8 rounded-lg shadow-lg transition-all duration-300 transform hover:scale-105">
                        Continuer vers la Communication ‚Üí
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-white mt-20 py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h3 class="text-2xl font-bold mb-4">Waytolearn<span class="text-emerald-400">IoT</span></h3>
                <p class="text-slate-400 mb-6">Plateforme √©ducative pour Syst√®mes Embarqu√©s</p>
                <p class="text-sm text-slate-500">&copy; 2025 WaytolearnIoT. Tous droits r√©serv√©s.</p>
            </div>
        </div>
    </footer>
    
    <script src="main.js" defer></script>
</body>
</html>
